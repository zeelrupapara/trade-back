# NATS Server Configuration for Trading System

# Server settings
port: 4222
http_port: 8222

# Enable JetStream for guaranteed delivery
jetstream {
    store_dir: "/data/jetstream"
    max_memory_store: 1GB
    max_file_store: 10GB
}

# Logging - log to stdout for Docker
logtime: true
debug: false
trace: false

# Connection limits
max_connections: 64K
max_control_line: 4KB
max_payload: 1MB
max_pending: 64MB

# Authentication (optional - enable in production)
# authorization {
#     user: trading
#     password: trading123
# }

# Cluster settings (for HA setup)
# cluster {
#     name: trading-cluster
#     listen: 0.0.0.0:6222
#     routes: [
#         nats-route://nats1:6222
#         nats-route://nats2:6222
#     ]
# }

# Monitoring
monitor_port: 8222

# Performance tuning
write_deadline: "2s"
max_closed_clients: 500
ping_interval: "2m"
ping_max: 2