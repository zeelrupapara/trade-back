# Trade-Back Environment Configuration

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_BINARY_WEBSOCKET_ENABLED=true
SERVER_READ_TIMEOUT=30s
SERVER_WRITE_TIMEOUT=30s
SERVER_IDLE_TIMEOUT=120s

# Database Configuration - MySQL
MYSQL_HOST=localhost
MYSQL_PORT=3307
MYSQL_DATABASE=trading
MYSQL_USER=trading
MYSQL_PASSWORD=trading123
MYSQL_MAX_OPEN_CONNS=25
MYSQL_MAX_IDLE_CONNS=5
MYSQL_CONN_MAX_LIFETIME=5m

# Database Configuration - InfluxDB
INFLUXDB_URL=http://localhost:8086
INFLUXDB_TOKEN=my-super-secret-auth-token
INFLUXDB_ORG=trading-org
INFLUXDB_BUCKET=trading
INFLUXDB_TIMEOUT=10s

# Cache Configuration - Redis
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=5
REDIS_DIAL_TIMEOUT=5s
REDIS_READ_TIMEOUT=3s
REDIS_WRITE_TIMEOUT=3s

# Messaging Configuration - NATS
NATS_URL=nats://localhost:4222
NATS_MAX_RECONNECT=10
NATS_RECONNECT_WAIT=2s
NATS_DRAIN_TIMEOUT=30s

# Exchange Configuration - General
EXCHANGE_MAX_SYMBOLS_PER_CONNECTION=200
EXCHANGE_RECONNECT_DELAY=1s
EXCHANGE_MAX_RECONNECT_ATTEMPTS=10
EXCHANGE_CONNECTION_TIMEOUT=30s
EXCHANGE_PING_INTERVAL=30s

# Exchange Configuration - Binance
BINANCE_STREAM_URL=wss://stream.binance.com:9443/stream
BINANCE_API_URL=https://api.binance.com
BINANCE_API_KEY=your-binance-api-key-here
BINANCE_SECRET_KEY=your-binance-secret-key-here

# Exchange Configuration - OANDA
OANDA_API_KEY="a3855282fd7ab127a1951608638298d7-15ca030ef9f4a4fa3063a08e6e45d6db"
OANDA_ACCOUNT_ID="101-001-36065897-001"
OANDA_ENVIRONMENT=live
# OANDA_API_URL and OANDA_STREAM_URL are auto-set based on environment
# For live: https://api-fxtrade.oanda.com and https://stream-fxtrade.oanda.com
# For practice: https://api-fxpractice.oanda.com and https://stream-fxpractice.oanda.com
# OANDA_API_URL=https://api-fxtrade.oanda.com
# OANDA_STREAM_URL=https://stream-fxtrade.oanda.com
OANDA_MAX_INSTRUMENTS=100
OANDA_STREAM_TIMEOUT=30s
OANDA_RETRY_DELAY=5s

# Performance Configuration
PERFORMANCE_BINARY_BATCH_SIZE=50
PERFORMANCE_BINARY_BATCH_INTERVAL=50ms
PERFORMANCE_HEARTBEAT_INTERVAL=30s
PERFORMANCE_MAX_MESSAGE_SIZE=1048576
PERFORMANCE_WRITE_BUFFER_SIZE=65536
PERFORMANCE_READ_BUFFER_SIZE=65536
PERFORMANCE_PRICE_BUFFER_SIZE=1000
PERFORMANCE_PRICE_UPDATE_INTERVAL=100ms
PERFORMANCE_CACHE_TTL=5s
PERFORMANCE_CACHE_CLEANUP_INTERVAL=1m

# Features Configuration
FEATURES_ENIGMA_ENABLED=true
FEATURES_ENIGMA_CALCULATION_INTERVAL=1m
FEATURES_TRADINGVIEW_ENABLED=true
FEATURES_TRADINGVIEW_RESOLUTIONS=1,5,15,30,60,240,D,W,M
FEATURES_MARKET_WATCH_ENABLED=true
FEATURES_MAX_WATCHLIST_SYMBOLS=100

# Security Configuration
SECURITY_CORS_ENABLED=true
SECURITY_CORS_ORIGINS=*
SECURITY_CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
SECURITY_CORS_HEADERS=*
SECURITY_RATE_LIMIT_ENABLED=false
SECURITY_RATE_LIMIT_REQUESTS=100
SECURITY_RATE_LIMIT_WINDOW=1m

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=stdout

# Monitoring Configuration
MONITORING_METRICS_ENABLED=true
MONITORING_METRICS_PORT=9090
MONITORING_HEALTH_CHECK_ENABLED=true

# WebSocket Configuration
WEBSOCKET_ENABLED=true
WEBSOCKET_PORT=8080
WEBSOCKET_READ_BUFFER_SIZE=1024
WEBSOCKET_WRITE_BUFFER_SIZE=1024
WEBSOCKET_MAX_MESSAGE_SIZE=512000
WEBSOCKET_PING_INTERVAL=30s
WEBSOCKET_PONG_TIMEOUT=60s
WEBSOCKET_WRITE_TIMEOUT=10s
WEBSOCKET_MAX_CLIENTS=10000
WEBSOCKET_ENABLE_COMPRESSION=true

# Webhook Configuration
WEBHOOK_ENABLED=false
WEBHOOK_TRADINGVIEW_SECRET=
WEBHOOK_HMAC_SECRET=
WEBHOOK_MAX_BODY_SIZE=1048576
WEBHOOK_TIMEOUT=30s
